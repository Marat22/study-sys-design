# –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ë–î (PostgreSQL)
## –ü–µ–π–¥–∂–∏–Ω–≥
- –ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ—Ä—Ç–µ–∂
- –ó–∞–ø–∏—Å–∏ –¥–µ–ª—è—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`pages`)
    - –ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–º–µ–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–æ–ª-–≤–æ –∑–∞–Ω–∏–º–∞–µ–º–æ–π –ø–∞–º—è—Ç–∏ (–Ω–∞–ø—Ä. 8 –∫–±)
- –í –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ö—Ä–∞–Ω—è—Ç—Å—è —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ –∑–∞–ø–∏—Å–∏ (offset, length)
    - —á—Ç–æ-—Ç–æ —Ç–∏–ø–∞: 
    ```
        [ Item pointers: 4-byte1, 10-byte2 ... | Free space | ... Record2: 'Vlad' | Record1: ... ]
    ```
- –ï—Å–ª–∏ —Ç–∏–ø —Å—Ç–æ–ª–±—Ü–∞ `VARCHAR(255)`, —Ç–æ —ç—Ç–æ –Ω–µ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –ø–æ–¥ –∫–∞–∂–¥–æ–µ –ø–æ–ª–µ —ç—Ç–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞ –±—É–¥–µ—Ç –≤—ã–¥–µ–ª—è—Ç—å—Å—è 255 –±–∞–π—Ç, —Ç.–∫. —ç—Ç–æ –±—ã–ª–æ –±—ã –∑–∞—Ç—Ä–∞—Ç–Ω–æ. –í—ã–¥–µ–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ–µ –∫–æ–ª-–≤–æ –ø–∞–º—è—Ç–∏.
    - **–ü–†–û–ë–õ–ï–ú–ê**: —á—Ç–æ –¥–µ–ª–∞—Ç—å —Å `UPDATE` –∏ `DELETE`? 
    - `UPDATE` –º–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∫–æ—Ç—Ä–µ–∂–∞, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ length –∏–∑–º–µ–Ω–∏—Ç—Å—è. –ù–µ –±—É–¥–µ–º –∂–µ –º—ã –¥–≤–∏–≥–∞—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ –ø–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–π –∑–∞–ø–∏—Å–∏? –ö–∞–∫ —ç—Ç–æ —Ä–µ—à–∏—Ç—å?
    - `DELETE` –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å, —Ç–æ–≥–¥–∞ –≤ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (`page`) –ø–æ—è–≤–∏—Ç—Å—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ –ø—Ä–æ—Å—Ç–∞–Ω—Å—Ç–≤–æ. –ù–µ –±—É–¥–µ–º –∂–µ –º—ã –¥–≤–∏–≥–∞—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ –ø–æ—Å–ª–µ —É–¥–∞–ª—è–µ–º–æ–π –∑–∞–ø–∏—Å–∏?
    - **–†–ï–®–ï–ù–ò–ï**: VACCUM –∏ –º—ë—Ä—Ç–≤—ã–µ (`dead`) –∑–∞–ø–∏—Å–∏. –ï—Å–ª–∏ –∑–∞–ø–∏—Å—å —É–¥–∞–ª–µ–Ω–∞, —Ç–æ –æ–Ω–∞ –ø–æ–º–µ—á–∞–µ—Ç—Å—è, –∫–∞–∫ –º—ë—Ä—Ç–≤–∞—è. –ï—Å–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ—Ä—Ç–µ–∂ –∑–∞–ø–∏—Å–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞, —á–µ–º –∑–∞–Ω–∏–º–∞–ª —Ä–∞–Ω—å—à–µ, —Ç–æ —Å—Ç–∞—Ä—ã–π offset –ø–æ–º–µ—á–∞–µ—Ç—Å—è, –∫–∞–∫ –º—ë—Ä—Ç–≤—ã–π, –∞ –∑–∞—Ç–µ–º —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å (–º–æ–∂–µ—Ç –±—ã—Ç—å –¥–∞–∂–µ –≤ –¥—Ä—É–≥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ). –ó–∞—Ç–µ–º, –µ—Å–ª–∏ –≤—ã–∑—ã–≤–∞—Ç—å `VACCUM` (–º–µ—Å—Ç–Ω—ã–π Garbage Collector), —Ç–æ –≤—Å–µ –º—ë—Ä—Ç–≤—ã–µ –∑–∞–ø–∏—Å–∏ —É–¥–∞–ª—è—é—Ç—Å—è –∏ –∑–∞–ø–∏—Å–∏ –≤ –ø–µ–π–¥–∂–∞—Ö —Å–¥–≤–∏–≥–∞—é—Ç—Å—è, offset'—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è.
    - **–ü–†–ò–ú–ï–†**:
    ```
    –ò—Å—Ö–æ–¥–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:
    [ Item pointers: 4-byte1, 10-byte2 ... | Free space | ... Record2: 'Vlad' | Record1: ... ]

    –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Record2 –Ω–∞ 'SomeLongNameIDK' (–µ—Å–ª–∏ –º–µ—Å—Ç–∞ (`long`) –≤ –∫–æ—Ä—Ç–µ–∂–µ —Ö–≤–∞—Ç–∞–µ—Ç):
    [ Item pointers: 4-byte1, 10-byte2* ... | Free space‚Üì ... | Record2 (new): 'SomeLongNameIDK' | Record1... ]

    –ï—Å–ª–∏ –º–µ—Å—Ç–∞ –≤ –∫–æ—Ç—Ä–µ–∂–µ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç:
    [ Item pointers: 4-byte1, 10-byte2 (dead) ... | ... Record2 (dead): 'Vlad' | ... ]
    –ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å 'SomeLongNameIDK' –ø–∏—à–µ—Ç—Å—è –≤ –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.
    ```

## –ö–æ–ª–æ–Ω–æ—á–Ω—ã–µ (–∫–æ–ª–æ–Ω–∏–∞–ª—å–Ω—ã–µ üá¨üáßüá´üá∑üáµüáπ) –ë–î
- –í –∫–æ–ª–æ–Ω–æ—á–Ω—ã—Ö –ë–î –≤ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞.
- ‚úÖ –≠—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π
- –ü—Ä–∏–º–µ—Ä: ClickHouse

### –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Å—Ç—Ä–æ—á–Ω–æ–π (–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ)?
–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–æ—á–Ω—ã–º–∏ –∏ —Å—Ç—Ä–æ—á–Ω—ã–º–∏ (–æ–±—ã—á–Ω—ã–º–∏) –º–æ–∂–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä:
- —É –Ω–∞—Å –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ:

|col1|col2|col3|
|- | - | - |
|val1|val2|val3|
|val4|val5|val6|
|...|...|...|
|val1000|val1001|val1002|

- –ö–∞–∫ –±—ã —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∞–ª–∏—Å—å –≤ **–∫–æ–ª–æ–Ω–æ—á–Ω–æ–π** –ë–î:
    - `page1` (col1): 
    ```
    [val1, val4, ..., val1000]
    ```
    - `page2` (col2): 
    ```
    [val2, val5, ..., val1001]
    ```
    - `page3` (col3): 
    ```
    [val3, val6, ..., val1002]
    ```
- –ö–∞–∫ –±—ã —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∞–ª–∏—Å—å –≤ **—Å—Ç—Ä–æ—á–Ω–æ–π** –ë–î:
    - `page1`:
    ```
    [ 
        [ val1, val2, val3 ],
        [ val4, val5, val6 ],
        ...
    ]
    ```
    - `page10`:
    ```
    [ 
        ...
        [ val1000, val1001, val1002 ]
    ]
    ```

# Buffer Pool (page cache)
**–í–Ω–∏–º–∞–Ω–∏–µ**, —è –Ω–µ –æ—á–µ–Ω—å –ø–æ–Ω—è–ª —ç—Ç—É —Ç–µ–º—É, –ø–æ—ç—Ç–æ–º—É –º–æ–∂–µ—Ç —Ç—É—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∏–Ω—Ñ–∞ –∫–∞–∫–∞—è-—Ç–æ. –í –æ—Å–Ω–æ–≤–Ω–æ–º –æ—Å–Ω–æ–≤—ã–≤–∞–ª—Å—è –Ω–∞ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è—Ö —Å –ª–µ–∫—Ü–∏–∏, DSC –∏ –¥–∏–ø—Å–∏–∫–µ

## –ß—Ç–æ —ç—Ç–æ?
Buffer Pool - —ç—Ç–æ –∫–µ—à –ë–î —Å —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ (–ø–µ–π–¥–∂–∞–º–∏)

## –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è, —á—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤ Buffer Pool?
- –í Buffer Pool —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ–π–¥–∂–∏
- –ï—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å "–∑–∞–ø–∏–Ω–∏—Ç—å" –Ω–∞–∏–±–æ–ª–µ–µ –≤–∞–∂–Ω—ã–µ –ø–µ–π–¥–∂–∏, —á—Ç–æ–±—ã –æ–Ω–∏ –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ –Ω–µ —É—Ö–æ–¥–∏–ª–∏ –∏–∑ Buffer Pool (–¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)
- –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ LRU cache

## –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ (`SELECT`)?
- –ó–∞–ø—Ä–æ—Å: "–ü—Ä–æ—á–∏—Ç–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É 5 —Ç–∞–±–ª–∏—Ü—ã users".

```mermaid
sequenceDiagram
    participant Client
    participant PostgreSQL
    participant BufferPool
    participant Disk

    Client->>PostgreSQL: SELECT query
    PostgreSQL->>BufferPool: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    alt –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ –±—É—Ñ–µ—Ä–Ω–æ–º –ø—É–ª–µ (cache hit)
        BufferPool-->>PostgreSQL: –í–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ
    else –°—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ—Ç (cache miss)
        PostgreSQL->>Disk: –ó–∞–ø—Ä–æ—Å–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
        Disk-->>PostgreSQL: –í–µ—Ä–Ω—É—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
        PostgreSQL->>BufferPool: –ü–æ–º–µ—Å—Ç–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –ø—É–ª
        BufferPool-->>PostgreSQL: –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ
    end
    PostgreSQL-->>Client: –í–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```

## –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ (`UPDATE`, `INSERT`)?
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Å—Ä–∞–∑—É –ø–∏—à—É—Ç—Å—è –Ω–∞ –¥–∏—Å–∫**!
- `INSERT`
```mermaid
sequenceDiagram
    participant Client
    participant PostgreSQL
    participant WAL
    participant BufferPool
    participant Disk

    Client->>PostgreSQL: INSERT query
    PostgreSQL->>WAL: 1. –ó–∞–ø–∏—Å—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –∂—É—Ä–Ω–∞–ª
    WAL->>Disk: 2. –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å WAL (–≥–∞—Ä–∞–Ω—Ç–∏—è durability)
    Disk-->>WAL: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
    WAL-->>PostgreSQL: OK
    PostgreSQL->>BufferPool: 3. –ù–∞–π—Ç–∏/–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
    PostgreSQL->>BufferPool: 4. –í—Å—Ç–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å
    PostgreSQL->>BufferPool: 5. –ü–æ–º–µ—Ç–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞–∫ DIRTY
    PostgreSQL-->>Client: 6. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ COMMIT
    loop –§–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å
        BufferPool->>Disk: 7. bgwriter –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç dirty-—Å—Ç—Ä–∞–Ω–∏—Ü—ã
        Disk-->>BufferPool: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
        BufferPool->>BufferPool: –°–Ω—è—Ç—å –ø–æ–º–µ—Ç–∫—É DIRTY
    end
```
- `UPDATE`
```mermaid
sequenceDiagram
    participant Client
    participant PostgreSQL
    participant BufferPool
    participant WAL
    participant Disk

    Client->>PostgreSQL: UPDATE query
    PostgreSQL->>WAL: –ó–∞–ø–∏—Å–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ (1)
    WAL-->>PostgreSQL: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
    PostgreSQL->>BufferPool: –ù–∞–π—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É (2)
    alt –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ –ø—É–ª–µ
        PostgreSQL->>BufferPool: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –∑–∞–ø–∏—Å–∏ (MVCC)
    else –°—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ—Ç
        PostgreSQL->>Disk: –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
        Disk-->>PostgreSQL: –í–µ—Ä–Ω—É—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
        PostgreSQL->>BufferPool: –î–æ–±–∞–≤–∏—Ç—å –≤ –ø—É–ª
    end
    PostgreSQL->>BufferPool: –ü–æ–º–µ—Ç–∏—Ç—å —Å—Ç–∞—Ä—É—é –∑–∞–ø–∏—Å—å –∫–∞–∫ "dead" (3)
    PostgreSQL->>BufferPool: –ü–æ–º–µ—Ç–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞–∫ "dirty"
    PostgreSQL-->>Client: COMMIT —É—Å–ø–µ—à–µ–Ω
    Note right of BufferPool: VACUUM –æ—á–∏—Å—Ç–∏—Ç dead-–∑–∞–ø–∏—Å–∏ (4)
    Note right of BufferPool: bgwriter –∑–∞–ø–∏—à–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è (5)
```

## WAL (Write-Ahead Log)
- –¥–∞–∂–µ –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ –¥–∏—Å–∫, –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–Ω–∞—á–∞–ª–∞ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ WAL.
- –ü—Ä–∏ —Å–±–æ–µ –¥–∞–Ω–Ω—ã–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∏–∑ WAL + Buffer Pool.

# –ò–Ω–¥–µ–∫—Å—ã
## –ö–ª–∞—Å—Ç–µ—Ä—ã
–ë—ã–≤–∞—é—Ç –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏ –Ω–µ –∫–ª–∞—Å—Ç–∞—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã.
- –ö–ª–∞—Å—Ç–∞—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ:
    - –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
    - –ë—ã—Å—Ç—Ä–µ–µ —á—Ç–µ–Ω–∏–µ
    - –î–∞—ë—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –¥–∏–∞–ø–æ–∑–æ–Ω–æ–º
    - –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ –ª–∏—Å—Ç—å—è—Ö –∏–Ω–¥–µ–∫—Å–∞
    - –ó–Ω–∞—á–µ–Ω–∏—è –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
- –ù–µ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ:
    - –ë—ã—Å—Ç—Ä–µ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
    - –ú–µ–¥–ª–µ–Ω–Ω–µ–µ —á—Ç–µ–Ω–∏–µ
    - –°–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ —Å–∞–º–∏ –¥–∞–Ω–Ω—ã–µ, –∞ —Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏—Ö —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü–µ
    - –ü–æ

## –†–∞–∑—Ä—è–∂–µ–Ω–Ω—ã–µ/–ø–ª–æ—Ç–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã
- While a Dense Index creates an entry for every record in the database, a Sparse Index only does so for a select subset, primarily the first record of each block.

- –ü–ª–æ—Ç–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã
![–ü–ª–æ—Ç–Ω–µ–Ω—å–∫–∏–µ –±—Ä–∞—Ç–∏—à–∫–∏](dense-indexes.png)
- –†–∞–∑—Ä—è–∂–µ–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã
![–ñ–∏–¥–µ–Ω—å–∫–∏–µ –Ω–µ–∑—Ä—è–∂–µ–Ω–Ω—ã–µ –±—Ä–∞—Ç–∏—à–∫–∏](sparse-indexed.png)
## B Tree
- –ø–æ—á—Ç–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –µ—Å—Ç—å B+Tree
- –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫
- –º–µ–¥–ª–µ–Ω–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ

- –ø–æ–∫–∞ –Ω–µ –ø–æ–Ω—è–ª (–ø–æ–ø–æ–ª—é –ø–æ–∑–∂–µ)

## B+Tree
![d](b-trees.png)
- –ø–æ–∫–∞ –Ω–µ –ø–æ–Ω—è–ª (–ø–æ–ø–æ–ª—é –ø–æ–∑–∂–µ)

## —Ö–∑
- –ø–æ–∫–∞ –Ω–µ –ø–æ–Ω—è–ª (–ø–æ–ø–æ–ª—é –ø–æ–∑–∂–µ)

## Bitmaps
- –£–¥–æ–±–Ω–æ –¥–ª—è enum'–æ–≤.

| name | sex(( |
| -- | -- |
| Brat Vachevski | f |
| Thom York | m |
| Chino Moreno | m |
| Courtney Love | f |
| James Hetfield | m |

->

sex = [0, 1, 1, 0, 1]

## GIST
- –ø–æ–∫–∞ –Ω–µ –ø–æ–Ω—è–ª (–ø–æ–ø–æ–ª—é –ø–æ–∑–∂–µ)

### R Tree
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤

- –ø–æ–∫–∞ –Ω–µ –ø–æ–Ω—è–ª (–ø–æ–ø–æ–ª—é –ø–æ–∑–∂–µ)


# Embedded models
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –Ω–∞–ø—Ä—è–º—É—é –≤ –°–£–ë–î.
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ –±–∞–∑—ã, –∏–∑–±–µ–≥–∞—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤–æ –≤–Ω–µ—à–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã.
- –ö–ª—é—á–µ–≤–æ–π –∞—Å–ø–µ–∫—Ç - **—Ä–∞–±–æ—Ç–∞ —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏**.

# ***–°–ê–ú–û–ï –í–ê–ñ–ù–û–ï***
–í–ª–∞–¥—É —á–∞—Å—ã:
- seiko (–Ω–µ –ø–æ–º–Ω—é –º–æ–¥–µ–ª—å)
- –µ—â—ë —á–µ—Ç –±—ã–ª–æ


